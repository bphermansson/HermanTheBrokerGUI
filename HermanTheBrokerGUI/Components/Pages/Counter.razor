@page "/counter"
@using HermanTheBrokerGUI.Services
@using HermanTheBrokerGUI.Models
@rendermode InteractiveServer

<PageTitle>Counter</PageTitle>

<h1>Counter</h1>

<p role="status">Current count: @currentCount</p>

<button class="btn btn-primary" @onclick="IncrementCount">Click me</button>

@code {
    private int currentCount = 0;

    private void IncrementCount()
    {
        currentCount++;
    }
}
@if (data != null)
{
    <ul>
        @foreach (var item in data)
        {
            <li>@item.HouseId</li>
            <li>@item.Street</li>

        }
    </ul>
}
else
{
    <p>Loading data...</p>
}
@code {
    private IEnumerable<House> data;

    [Inject]
    private ApiService ApiService { get; set; }

    protected override async Task OnInitializedAsync()
    {
        data = await ApiService.Get<House>("https://localhost:7015/api/Visitor/HouseById?id=2");
    }

}

